package Klase;

public class BipartiteGraph {
	private Graph graph;
	private int[] colors;
	
	public BipartiteGraph(Graph graph)  {
		this.graph = graph;
		this.colors = new int[graph.brojCvorova()];
	}
	
	private void dfsReset() {
		for(int i = 0; i < colors.length; i++) {
			colors[i] = 0;
		}
	}
	
	public boolean isBipartite() {
		dfsReset();
		colors[0] = 1;
		return isBipartiteDfs(0);
	}
	
	private boolean isBipartiteDfs(int cur) {
		for (int x : graph.susedi(cur)) {
			System.out.println(x);
			if (colors[x] != 0 && colors[x] == colors[cur]) {
				System.out.println(cur + " " + x);
				return false;
			}
			else if (colors[x] == 0) {
				colors[x] = colors[cur] * -1;
				if (isBipartiteDfs(x)) return false;
			}
		}
		return true;
	}
}
